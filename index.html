<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rachaels Dogs - Professional Pet Care Services</title>
  <meta name="description" content="Professional dog walking, sitting, and grooming services by Rachael's trusted team.">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <style>
    /* CSS Variables for easier theming */
    :root {
      --primary-color: #ff4d4d; /* Red/Accent color */
      --secondary-color: #ff1a1a; /* Darker red for gradients */
      --dark-bg-start: #1a1a1a;
      --dark-bg-end: #2d2d2d;
      --text-color: #fff;
      --light-text-color: #ccc;
      --overlay-dark: rgba(0, 0, 0, 0.8);
      --overlay-darker: rgba(0, 0, 0, 0.9);
      --overlay-blur-dark: rgba(0, 0, 0, 0.95);
      --element-bg-light: rgba(255, 255, 255, 0.05);
      --element-bg-medium: rgba(255, 255, 255, 0.1);
      --modal-bg-start: rgba(40, 40, 40, 0.95);
      --modal-bg-end: rgba(20, 20, 20, 0.95);
      --border-color-light: rgba(255, 255, 255, 0.1);
      --border-color-medium: rgba(255, 255, 255, 0.2);
      --error-color: #ff6b6b;
      --success-color: #4CAF50;
      --success-color-dark: #45a049;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
    }

    html {
      scroll-behavior: smooth; /* Smooth scrolling for anchor links */
    }

    body {
      color: var(--text-color);
      background: linear-gradient(135deg, var(--dark-bg-start) 0%, var(--dark-bg-end) 100%);
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* Video Background with Fallback */
    .video-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: linear-gradient(135deg, var(--dark-bg-start) 0%, var(--dark-bg-end) 100%);
    }

    video#heroVideo {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.6);
    }

    .video-loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--text-color);
      font-size: 18px;
      text-align: center;
    }

    /* Header Improvements */
    header {
      background: var(--overlay-dark);
      backdrop-filter: blur(10px);
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
      transition: all 0.3s ease;
    }

    header.scrolled {
      background: var(--overlay-blur-dark);
      padding: 15px 40px;
    }

    header h1 {
      color: var(--text-color);
      font-size: 28px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    header h1 i {
      color: var(--primary-color);
      font-size: 32px;
    }

    header nav {
      display: flex;
      gap: 20px;
    }

    header nav a {
      color: var(--text-color);
      text-decoration: none;
      font-weight: 600;
      padding: 8px 16px;
      border-radius: 5px;
      transition: all 0.3s ease;
      position: relative;
    }

    header nav a:hover {
      background: rgba(255, 77, 77, 0.2);
      color: var(--primary-color);
    }

    header nav a:focus {
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
    }

    /* Mobile Menu */
    .mobile-menu {
      display: none;
      flex-direction: column;
      cursor: pointer;
      padding: 5px;
    }

    .mobile-menu span {
      width: 25px;
      height: 3px;
      background: var(--text-color);
      margin: 3px 0;
      transition: 0.3s;
    }

    /* Hero Section */
    .hero {
      text-align: center;
      margin-top: 100px;
      padding: 40px 20px;
      min-height: 60vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .hero h2 {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
      animation: fadeInUp 1s ease;
    }

    .hero p {
      font-size: 20px;
      margin-bottom: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
      animation: fadeInUp 1s ease 0.2s both;
    }

    .buttons {
      animation: fadeInUp 1s ease 0.4s both;
    }

    .buttons button {
      padding: 15px 30px;
      margin: 10px;
      border: none;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      color: white;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 77, 77, 0.3);
      position: relative;
      overflow: hidden;
    }

    .buttons button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 77, 77, 0.5);
    }

    .buttons button:active {
      transform: translateY(0);
    }

    .buttons button:focus {
      outline: 2px solid var(--text-color);
      outline-offset: 2px;
    }

    /* Loading Animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid var(--text-color);
      border-radius: 50%;
      border-top-color: transparent;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Modal Improvements */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--overlay-dark);
      backdrop-filter: blur(5px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: linear-gradient(145deg, var(--modal-bg-start), var(--modal-bg-end));
      backdrop-filter: blur(20px);
      padding: 30px;
      border-radius: 15px;
      border: 1px solid var(--border-color-light);
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      animation: slideUp 0.3s ease;
      position: relative;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal h3 {
      color: var(--primary-color);
      margin-bottom: 20px;
      font-size: 24px;
      text-align: center;
    }

    .modal input, .modal select, .modal textarea {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid var(--border-color-medium);
      border-radius: 8px;
      background: var(--element-bg-medium);
      color: var(--text-color);
      font-size: 16px;
      transition: all 0.3s ease;
    }

    /* Fix for dropdown options visibility */
    .modal select option {
      background-color: var(--dark-bg-end); /* Dark background for options */
      color: var(--text-color); /* Light text for options */
    }

    .modal select option:hover,
    .modal select option:focus {
      background-color: var(--primary-color); /* Highlight color on hover/focus */
      color: var(--text-color);
    }
    /* End fix for dropdown */


    .modal input:focus, .modal select:focus, .modal textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 10px rgba(255, 77, 77, 0.3);
    }

    .modal input::placeholder, .modal textarea::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    .error-message {
      color: var(--error-color);
      font-size: 14px;
      margin-top: -10px;
      margin-bottom: 10px;
      display: none;
    }

    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      cursor: pointer;
      font-weight: bold;
      font-size: 24px;
      color: var(--text-color);
      background: rgba(255, 77, 77, 0.8);
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      background: var(--primary-color);
      transform: scale(1.1);
    }

    /* Chatbot Improvements */
    .chatbot {
      position: fixed;
      bottom: 20px;
      right: 20px;
      height: 450px;
      width: 350px;
      background: linear-gradient(145deg, var(--modal-bg-start), var(--modal-bg-end));
      backdrop-filter: blur(20px);
      border-radius: 15px;
      border: 1px solid var(--border-color-light);
      display: none;
      flex-direction: column;
      z-index: 1000;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      animation: slideUp 0.3s ease;
    }

    .chatbot.active {
      display: flex;
    }

    .chatbot-header {
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      padding: 15px;
      border-radius: 15px 15px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chatbot-header h4 {
      color: var(--text-color);
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .chatbot .messages {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .message {
      max-width: 80%;
      padding: 10px 15px;
      border-radius: 15px;
      word-wrap: break-word;
      animation: fadeInUp 0.3s ease;
    }

    .message.user {
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      color: var(--text-color);
      align-self: flex-end;
      border-bottom-right-radius: 5px;
    }

    .message.bot {
      background: var(--element-bg-medium);
      color: var(--text-color);
      align-self: flex-start;
      border-bottom-left-radius: 5px;
    }

    .chat-input-container {
      padding: 15px;
      border-top: 1px solid var(--border-color-light);
    }

    .chatbot input {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border-color-medium);
      border-radius: 25px;
      background: var(--element-bg-medium);
      color: var(--text-color);
      outline: none;
      font-size: 14px;
    }

    .chatbot input:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 10px rgba(255, 77, 77, 0.3);
    }

    .typing-indicator {
      display: none;
      padding: 10px 15px;
      background: var(--element-bg-medium);
      border-radius: 15px;
      align-self: flex-start;
      margin-bottom: 10px;
    }

    .typing-indicator span {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--text-color);
      margin: 0 2px;
      animation: typing 1.4s ease-in-out infinite both;
    }

    .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
    .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% {
        transform: scale(0);
        opacity: 0.5;
      }
      40% {
        transform: scale(1);
        opacity: 1;
      }
    }

    /* Services Section */
    .services {
      background: var(--overlay-dark);
      backdrop-filter: blur(10px);
      padding: 60px 40px;
      margin: 100px 0;
      text-align: center;
      border-top: 1px solid var(--border-color-light);
      border-bottom: 1px solid var(--border-color-light);
    }

    .services h3 {
      font-size: 36px;
      margin-bottom: 40px;
      color: var(--primary-color);
    }

    .service-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .service-item {
      background: var(--element-bg-light);
      padding: 30px;
      border-radius: 15px;
      border-bottom: 4px solid var(--primary-color);
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .service-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(255, 77, 77, 0.2);
    }

    .service-item i {
      font-size: 50px;
      color: var(--primary-color);
      margin-bottom: 20px;
    }

    .service-item h4 {
      font-size: 24px;
      margin-bottom: 10px;
      color: var(--text-color);
    }

    .service-item p {
      font-size: 16px;
      color: var(--light-text-color);
      line-height: 1.5;
    }

    /* Reviews Section */
    .reviews {
      background: var(--overlay-dark);
      backdrop-filter: blur(10px);
      padding: 60px 40px;
      margin: 100px 0;
      text-align: center;
      border-top: 1px solid var(--border-color-light);
      border-bottom: 1px solid var(--border-color-light);
    }

    .reviews h3 {
      font-size: 36px;
      margin-bottom: 40px;
      color: var(--primary-color);
    }

    .reviews-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .review {
      background: var(--element-bg-light);
      padding: 25px;
      border-radius: 15px;
      border-left: 4px solid var(--primary-color);
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .review:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(255, 77, 77, 0.2);
    }

    .review p {
      font-style: italic;
      font-size: 16px;
      margin-bottom: 15px;
      line-height: 1.6;
    }

    .review .author {
      font-weight: 600;
      color: var(--primary-color);
      font-style: normal;
    }

    /* NEW: Gallery Section Styles */
    .gallery-section {
      background: var(--overlay-dark);
      backdrop-filter: blur(10px);
      padding: 60px 0; /* Padding top/bottom, no left/right to allow full width for scroll */
      margin: 100px 0;
      text-align: center;
      border-top: 1px solid var(--border-color-light);
      border-bottom: 1px solid var(--border-color-light);
      overflow: hidden; /* Crucial to hide images outside the track */
    }

    .gallery-section h3 {
      font-size: 36px;
      margin-bottom: 40px;
      color: var(--primary-color);
    }

    .gallery-track {
      display: flex; /* Makes images align horizontally */
      white-space: nowrap; /* Prevents images from wrapping to the next line */
      animation: scroll-left 40s linear infinite; /* Adjust time for speed */
      padding: 20px 0; /* Add some vertical padding for images */
    }

    .gallery-track img {
      height: 200px; /* Fixed height for all images */
      width: auto; /* Maintain aspect ratio */
      margin: 0 15px; /* Spacing between images */
      border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      object-fit: cover; /* Ensures images fill the specified height without distortion */
      transition: transform 0.3s ease; /* Smooth hover effect */
    }

    .gallery-track img:hover {
        transform: translateY(-5px) scale(1.02);
    }

    /* Keyframe Animation for Scrolling */
    @keyframes scroll-left {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-50%); } /* Scrolls half the track length to loop seamlessly */
    }

    /* Pause animation on hover */
    .gallery-track:hover {
      animation-play-state: paused;
    }

    /* Contact Section */
    .contact {
      background: var(--overlay-dark);
      backdrop-filter: blur(10px);
      padding: 60px 40px;
      margin-top: 100px;
      text-align: center;
      border-top: 1px solid var(--border-color-light);
      border-bottom: 1px solid var(--border-color-light);
    }

    .contact h3 {
      font-size: 36px;
      margin-bottom: 20px;
      color: var(--primary-color);
    }

    .contact p {
      font-size: 18px;
      margin-bottom: 30px;
      color: var(--light-text-color);
    }

    .contact-info {
      margin-bottom: 40px;
    }

    .contact-info p {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-size: 18px;
      margin-bottom: 10px;
    }

    .contact-info p i {
      color: var(--primary-color);
      font-size: 22px;
    }

    .contact-info a {
      color: var(--text-color);
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .contact-info a:hover {
      color: var(--primary-color);
    }

    .contact button {
      padding: 15px 30px;
      border: none;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
      color: white;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 77, 77, 0.3);
      position: relative;
      overflow: hidden;
    }

    .contact button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 77, 77, 0.5);
    }

    /* Footer */
    footer {
      background: var(--overlay-darker);
      backdrop-filter: blur(10px);
      text-align: center;
      padding: 40px 20px;
      border-top: 1px solid var(--border-color-light);
    }

    footer p {
      font-size: 14px;
      color: var(--light-text-color);
      margin-bottom: 20px;
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .social-links a {
      color: var(--text-color);
      font-size: 24px;
      transition: all 0.3s ease;
    }

    .social-links a:hover {
      color: var(--primary-color);
      transform: translateY(-2px);
    }

    /* Success Animation */
    .success-animation {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(45deg, var(--success-color), var(--success-color-dark));
      color: white;
      padding: 20px 40px;
      border-radius: 10px;
      font-size: 18px;
      font-weight: 600;
      z-index: 2000;
      display: none;
      animation: successPop 0.5s ease;
    }

    @keyframes successPop {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
      }
      100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      header {
        padding: 15px 20px;
      }

      header nav {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background: var(--overlay-blur-dark);
        flex-direction: column;
        padding: 20px;
      }

      header nav.active {
        display: flex;
      }

      .mobile-menu {
        display: flex;
      }

      .hero {
        margin-top: 50px;
        padding: 20px;
      }

      .hero h2 {
        font-size: 32px;
      }

      .hero p {
        font-size: 18px;
      }

      .buttons button {
        width: 100%;
        max-width: 300px;
        margin: 10px 0;
      }

      .modal {
        margin: 20px;
        width: calc(100% - 40px);
        padding: 20px;
      }

      .chatbot {
        width: calc(100% - 40px);
        right: 20px;
        left: 20px;
        height: 400px;
      }

      .reviews, .services, .contact, .gallery-section { /* Added gallery-section */
        padding: 40px 20px;
        margin: 50px 0;
      }

      .reviews h3, .services h3, .contact h3, .gallery-section h3 { /* Added gallery-section h3 */
        font-size: 28px;
      }

      .reviews-grid, .service-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      /* Responsive adjustments for gallery */
      .gallery-track img {
        height: 150px; /* Smaller images on smaller screens */
        margin: 0 10px;
      }
    }

    @media (max-width: 480px) {
      .hero h2 {
        font-size: 28px;
      }

      .hero p {
        font-size: 16px;
      }

      .buttons button {
        padding: 12px 25px;
        font-size: 14px;
      }

      .modal {
        padding: 15px;
      }

      .chatbot {
        height: 350px;
      }

      .gallery-track img {
        height: 120px; /* Even smaller for tiny screens */
        margin: 0 8px;
      }
      .gallery-track {
        animation-duration: 30s; /* Faster scroll on smaller screens if desired */
      }
    }

    /* Accessibility Improvements */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Focus styles for better accessibility */
    button:focus, input:focus, select:focus, textarea:focus {
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
    }
  </style>
</head>

<body>
  <div class="video-container">
    <div class="video-loading" id="videoLoading">
      <div class="loading"></div>
      <p>Loading video...</p>
    </div>
    <video autoplay muted loop playsinline id="heroVideo" aria-label="Dogs playing in background" poster="dog-walk-poster.jpg">
      <source src="dog-walk.webm" type="video/webm">
      <source src="dog-walk.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <header id="header">
    <h1>
      <i class="fas fa-paw" aria-hidden="true"></i>
      Rachaels Dogs
    </h1>
    <nav id="nav" role="navigation" aria-label="Main navigation">
      <a href="#home">Home</a>
      <a href="#services">Services</a>
      <a href="#reviews">Reviews</a>
      <a href="#gallery">Gallery</a> <a href="#contact">Contact</a>
    </nav>
    <div class="mobile-menu" aria-label="Toggle mobile menu">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>

  <main>
    <section class="hero" id="home">
      <h2>Pamper Your Pooch!</h2>
      <p>Book professional dog walking and minding services with Rachael's trusted team.</p>
      <div class="buttons">
        <button id="bookServiceBtn" aria-describedby="book-service-desc">
          <i class="fas fa-calendar-plus" aria-hidden="true"></i>
          Book a Service
        </button>
        <button id="chatRuffBotBtn" aria-describedby="chat-bot-desc">
          <i class="fas fa-comments" aria-hidden="true"></i>
          Chat with RuffBot
        </button>
      </div>
      <div class="sr-only">
        <p id="book-service-desc">Opens booking form to schedule dog walking, sitting, or grooming services</p>
        <p id="chat-bot-desc">Opens chat interface to talk with our AI assistant RuffBot</p>
      </div>
    </section>

    <section class="services" id="services">
      <h3>Our Tail-Wagging Services</h3>
      <div class="service-grid">
        <div class="service-item">
          <i class="fas fa-dog-walking"></i>
          <h4>Dog Walking</h4>
          <p>Energetic walks tailored to your dog's needs, keeping them happy and healthy. Includes GPS tracking and photo updates!</p>
        </div>
        <div class="service-item">
          <i class="fas fa-home"></i>
          <h4>Dog Sitting</h4>
          <p>Reliable and loving care for your pet in the comfort of your home or ours. Overnight stays available.</p>
        </div>
        <div class="service-item">
          <i class="fas fa-cut"></i>
          <h4>Grooming</h4>
          <p>Professional grooming services including baths, brushing, nail trims, and stylish cuts. Mobile grooming options too!</p>
        </div>
      </div>
    </section>

    <section class="reviews" id="reviews">
      <h3>What Dog Owners Say</h3>
      <div class="reviews-grid">
        <div class="review">
          <p>"Rachael took care of Max like her own pup. The updates and photos she sent gave me such peace of mind!"</p>
          <div class="author">‚Äì Sarah M.</div>
        </div>
        <div class="review">
          <p>"Reliable, loving, and affordable services. Bella absolutely loves her daily walks with Rachael!"</p>
          <div class="author">‚Äì James K.</div>
        </div>
        <div class="review">
          <p>"RuffBot even helped me book last minute when I had an emergency. Amazing customer service!"</p>
          <div class="author">‚Äì Priya S.</div>
        </div>
      </div>
    </section>

    <section class="gallery-section" id="gallery">
      <h3>Happy Paws, Happy Moments</h3>
      <div class="gallery-track">
        <img src="dog1.jpeg" alt="Happy dog playing" loading="lazy">
        <img src="dog2.jpeg" alt="Dog being groomed" loading="lazy">
        <img src="dog3.jpeg" alt="Dog on a walk" loading="lazy">
        <img src="dog4.jpeg" alt="Dog sitting patiently" loading="lazy">
        <img src="dog5.jpeg" alt="Puppy sleeping" loading="lazy">

        <img src="dog1.jpeg" alt="Happy dog playing" loading="lazy">
        <img src="dog2.jpeg" alt="Dog being groomed" loading="lazy">
        <img src="dog3.jpeg" alt="Dog on a walk" loading="lazy">
        <img src="dog4.jpeg" alt="Dog sitting patiently" loading="lazy">
        <img src="dog5.jpeg" alt="Puppy sleeping" loading="lazy">
        </div>
    </section>
    <section class="contact" id="contact">
      <h3>Get in Touch!</h3>
      <p>Ready to give your dog the best care? Contact us today!</p>
      <div class="contact-info">
        <p><i class="fas fa-phone"></i> <a href="tel:+1234567890">+1 (234) 567-890</a></p>
        <p><i class="fas fa-envelope"></i> <a href="mailto:info@rachaeldogs.com">info@rachaeldogs.com</a></p>
        <p><i class="fas fa-map-marker-alt"></i> 123 Canine Street, Dogville, USA</p>
      </div>
      <button id="contactBookBtn" aria-label="Book a service now">Book a Service</button>
    </section>
  </main>

  <div class="modal-overlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-desc">
      <button class="close-btn" id="closeModalBtn" aria-label="Close booking form">√ó</button>
      <h3 id="modal-title">Book a Service</h3>
      <p id="modal-desc" class="sr-only">Fill out this form to book a dog walking, sitting, or grooming service</p>

      <form id="bookingForm">
        <input type="text" id="ownerName" placeholder="Your Name" required aria-label="Your name"/>
        <div class="error-message" id="ownerNameError">Please enter your name</div>

        <input type="text" id="dogName" placeholder="Dog's Name" required aria-label="Dog's name"/>
        <div class="error-message" id="dogNameError">Please enter your dog's name</div>

        <select id="serviceType" required aria-label="Service type">
          <option value="" selected disabled hidden>Select a Service</option>
          <option value="Dog Walking">Dog Walking</option>
          <option value="Dog Sitting">Dog Sitting</option>
          <option value="Grooming">Grooming</option>
        </select>
        <div class="error-message" id="serviceTypeError">Please select a service</div>

        <input type="datetime-local" id="dateTime" required aria-label="Preferred date and time"/>
        <div class="error-message" id="dateTimeError">Please select a date and time</div>

        <textarea id="notes" placeholder="Any special notes or requirements?" rows="3" aria-label="Additional notes"></textarea>

        <button type="submit" id="submitBtn">
          <i class="fas fa-paper-plane" aria-hidden="true"></i>
          Submit Booking
        </button>
      </form>
    </div>
  </div>

  <div class="chatbot" id="chatBot" role="dialog" aria-labelledby="chat-title" aria-hidden="true">
    <div class="chatbot-header">
      <h4 id="chat-title">
        <i class="fas fa-robot" aria-hidden="true"></i>
        RuffBot
      </h4>
      <button class="close-btn" id="closeChatBtn" aria-label="Close chat">√ó</button>
    </div>
    <div class="messages" id="chatMessages" role="log" aria-live="polite" aria-label="Chat messages">
      <div class="message bot">
        <strong>RuffBot:</strong> Hi! How can I help you today? üê∂
      </div>
    </div>
    <div class="typing-indicator" id="typingIndicator">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="chat-input-container">
      <input type="text" id="chatInput" placeholder="Type your message..."
             aria-label="Type your message to RuffBot"/>
    </div>
  </div>

  <div class="success-animation" id="successAnimation">
    <i class="fas fa-check-circle" aria-hidden="true"></i>
    Booking submitted successfully!
  </div>

  <footer>
    <p>&copy; 2025 Rachaels Dogs. All rights reserved.</p>
    <div class="social-links">
      <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
      <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
    </div>
  </footer>

  <script>
    // Global variables
    let chatHistory = [];
    let bookingHistory = [];

    // RuffBot responses
    const botResponses = [
      "I'd be happy to help you book a service! üêï What type of service are you looking for?",
      "Rachael offers dog walking, sitting, and grooming services. Which one interests you?",
      "Great choice! You can click the 'Book a Service' button to schedule an appointment. üìÖ",
      "Our services are available 7 days a week! What questions do you have?",
      "Rachael is passionate about providing the best care for your furry friend! üêæ",
      "We offer flexible scheduling to fit your needs. Would you like to book now?",
      "All our services include updates and photos so you can see how your dog is doing! üì∏",
      "Safety and happiness are our top priorities for every dog we care for! ‚ù§Ô∏è"
    ];

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      initializeApp();
    });

    function initializeApp() {
      loadChatHistory();
      loadBookingHistory();
      setupVideoHandlers();
      setupScrollHandler();
      setupEventListeners(); // New function to centralize event listeners

      // Set minimum date for booking to today
      const dateInput = document.getElementById('dateTime');
      const now = new Date();
      now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
      dateInput.min = now.toISOString().slice(0, 16);
    }

    // Centralize all event listeners
    function setupEventListeners() {
      document.querySelector('.mobile-menu').addEventListener('click', toggleMobileMenu);
      document.getElementById('bookServiceBtn').addEventListener('click', toggleModal);
      document.getElementById('chatRuffBotBtn').addEventListener('click', toggleChat);
      document.getElementById('contactBookBtn').addEventListener('click', toggleModal); // Button in contact section
      document.getElementById('closeModalBtn').addEventListener('click', toggleModal);
      document.getElementById('closeChatBtn').addEventListener('click', toggleChat);
      document.getElementById('bookingForm').addEventListener('submit', submitBooking);
      document.getElementById('chatInput').addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
          sendChat();
        }
      });

      // Add input event listeners for real-time validation feedback
      document.getElementById('ownerName').addEventListener('input', () => validateField('ownerName', 'ownerNameError', 'Please enter your name'));
      document.getElementById('dogName').addEventListener('input', () => validateField('dogName', 'dogNameError', 'Please enter your dog\'s name'));
      document.getElementById('serviceType').addEventListener('change', () => validateField('serviceType', 'serviceTypeError', 'Please select a service'));
      document.getElementById('dateTime').addEventListener('input', () => validateField('dateTime', 'dateTimeError', 'Please select a date and time'));
    }

    // Video handling with fallback
    function setupVideoHandlers() {
      const video = document.getElementById('heroVideo');
      const loading = document.getElementById('videoLoading');

      video.addEventListener('loadstart', () => {
        loading.style.display = 'block';
      });

      video.addEventListener('canplay', () => {
        loading.style.display = 'none';
      });

      // Fallback for video load error
      video.addEventListener('error', () => {
        console.error('Video failed to load. Using fallback background.');
        loading.innerHTML = '<p>Unable to load background video. Using fallback background.</p>';
        // Hide loading message after a delay if video fails
        setTimeout(() => {
          loading.style.display = 'none';
        }, 3000);
      });
    }

    // Header scroll effect
    function setupScrollHandler() {
      window.addEventListener('scroll', () => {
        const header = document.getElementById('header');
        if (window.scrollY > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      });
    }

    // Mobile menu toggle
    function toggleMobileMenu() {
        const nav = document.getElementById('nav');
        nav.classList.toggle('active');
        const mobileMenu = document.querySelector('.mobile-menu');
        if (nav.classList.contains('active')) {
            mobileMenu.setAttribute('aria-expanded', 'true');
        } else {
            mobileMenu.setAttribute('aria-expanded', 'false');
        }
    }


    // Handle Escape key for modals/chatbots
    function handleEscapeKey(event) {
      if (event.key === 'Escape') {
        if (document.getElementById('modalOverlay').classList.contains('active')) {
          toggleModal();
        } else if (document.getElementById('chatBot').classList.contains('active')) {
          toggleChat();
        }
      }
    }

    // Modal functions with accessibility
    function toggleModal() {
      const overlay = document.getElementById('modalOverlay');
      const isActive = overlay.classList.contains('active');

      if (isActive) {
        overlay.classList.remove('active');
        overlay.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = ''; // Restore scroll
        document.removeEventListener('keydown', handleEscapeKey); // Remove escape key listener
      } else {
        overlay.classList.add('active');
        overlay.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden'; // Prevent scroll
        document.addEventListener('keydown', handleEscapeKey); // Add escape key listener

        // Focus first input
        setTimeout(() => {
          document.getElementById('ownerName').focus();
        }, 300);
      }
    }

    // Individual field validation
    function validateField(fieldId, errorId, message) {
        const element = document.getElementById(fieldId);
        const errorElement = document.getElementById(errorId);
        let isValid = true;

        if (!element.value.trim()) {
            errorElement.textContent = message;
            errorElement.style.display = 'block';
            element.style.borderColor = 'var(--error-color)';
            isValid = false;
        } else {
            errorElement.style.display = 'none';
            element.style.borderColor = 'var(--border-color-medium)';
        }

        // Specific date validation
        if (fieldId === 'dateTime' && element.value.trim()) {
            const selectedDate = new Date(element.value);
            const now = new Date();
            // Allow selecting today if time is in the future
            if (selectedDate <= now) {
                errorElement.textContent = 'Please select a future date and time.';
                errorElement.style.display = 'block';
                element.style.borderColor = 'var(--error-color)';
                isValid = false;
            } else {
                errorElement.style.display = 'none';
                element.style.borderColor = 'var(--border-color-medium)';
            }
        }
        return isValid;
    }

    // Form validation
    function validateForm() {
      let isValid = true;
      isValid = validateField('ownerName', 'ownerNameError', 'Please enter your name') && isValid;
      isValid = validateField('dogName', 'dogNameError', 'Please enter your dog\'s name') && isValid;
      isValid = validateField('serviceType', 'serviceTypeError', 'Please select a service') && isValid;
      isValid = validateField('dateTime', 'dateTimeError', 'Please select a date and time') && isValid;

      return isValid;
    }

    // Enhanced booking submission
    function submitBooking(event) {
      event.preventDefault(); // Prevent default form submission

      if (!validateForm()) {
        return; // Stop if validation fails
      }

      const submitBtn = document.getElementById('submitBtn');
      const originalText = submitBtn.innerHTML;

      // Show loading state
      submitBtn.innerHTML = '<div class="loading"></div> Processing...';
      submitBtn.disabled = true;

      const booking = {
        id: Date.now(),
        owner: document.getElementById("ownerName").value.trim(),
        dog: document.getElementById("dogName").value.trim(),
        service: document.getElementById("serviceType").value,
        dateTime: document.getElementById("dateTime").value,
        notes: document.getElementById("notes").value.trim(),
        timestamp: new Date().toISOString()
      };

      // Simulate API call
      setTimeout(() => {
        try {
          // Save to storage with error handling
          saveBooking(booking);

          // Show success animation
          showSuccessAnimation();

          // Reset form
          document.getElementById('bookingForm').reset();
           // Hide error messages and reset border colors
          ['ownerName', 'dogName', 'serviceType', 'dateTime'].forEach(id => {
              document.getElementById(id).style.borderColor = 'var(--border-color-medium)';
              document.getElementById(id + 'Error').style.display = 'none';
          });

          // Close modal
          toggleModal();

          // Add confirmation to chat
          addBotMessage(`Great! I've recorded your booking for ${booking.dog}'s ${booking.service.toLowerCase()} service. Rachael will contact you soon! üêï`);

        } catch (error) {
          console.error('Booking failed:', error);
          alert('Sorry, there was an error processing your booking. Please try again.');
        } finally {
          // Reset button
          submitBtn.innerHTML = originalText;
          submitBtn.disabled = false;
        }
      }, 1500); // Simulate network delay
    }

    // Storage functions with error handling
    function saveBooking(booking) {
      try {
        bookingHistory.push(booking);
        localStorage.setItem("bookingHistory", JSON.stringify(bookingHistory));
      } catch (error) {
        console.error('Failed to save booking to localStorage:', error);
        throw error;
      }
    }

    function loadBookingHistory() {
      try {
        const saved = localStorage.getItem("bookingHistory");
        if (saved) {
          bookingHistory = JSON.parse(saved);
        }
      } catch (error) {
        console.error('Failed to load booking history from localStorage:', error);
        bookingHistory = [];
      }
    }

    // Success animation
    function showSuccessAnimation() {
      const successEl = document.getElementById('successAnimation');
      successEl.style.display = 'flex';
      setTimeout(() => {
        successEl.style.display = 'none';
      }, 3000);
    }

    // Enhanced chat functions
    function toggleChat() {
      const chatBot = document.getElementById("chatBot");
      const isActive = chatBot.classList.contains('active');

      if (isActive) {
        chatBot.classList.remove('active');
        chatBot.setAttribute('aria-hidden', 'true');
        document.removeEventListener('keydown', handleEscapeKey);
      } else {
        chatBot.classList.add('active');
        chatBot.setAttribute('aria-hidden', 'false');
        document.addEventListener('keydown', handleEscapeKey);

        setTimeout(() => {
          document.getElementById('chatInput').focus();
        }, 300);

        scrollChatToBottom();
      }
    }

    function sendChat() {
      const input = document.getElementById("chatInput");
      const msg = input.value.trim();

      if (!msg) return;

      addUserMessage(msg);

      input.value = "";

      showTypingIndicator();

      setTimeout(() => {
        hideTypingIndicator();
        const response = generateBotResponse(msg);
        addBotMessage(response);
      }, 1000 + Math.random() * 2000);
    }

    function addUserMessage(message) {
      const chatArea = document.getElementById("chatMessages");
      const messageEl = document.createElement("div");
      messageEl.className = "message user";
      messageEl.innerHTML = `<strong>You:</strong> ${escapeHtml(message)}`;
      chatArea.appendChild(messageEl);

      saveChatMessage({ from: "You", message, timestamp: new Date().toISOString() });

      scrollChatToBottom();
    }

    function addBotMessage(message) {
      const chatArea = document.getElementById("chatMessages");
      const messageEl = document.createElement("div");
      messageEl.className = "message bot";
      messageEl.innerHTML = `<strong>RuffBot:</strong> ${escapeHtml(message)}`;
      chatArea.appendChild(messageEl);

      saveChatMessage({ from: "RuffBot", message, timestamp: new Date().toISOString() });

      scrollChatToBottom();
    }

    function generateBotResponse(userMessage) {
      const lowerMsg = userMessage.toLowerCase();

      if (lowerMsg.includes('book') || lowerMsg.includes('appointment') || lowerMsg.includes('schedule')) {
        return "I'd be happy to help you book a service! üêï Click the 'Book a Service' button above to get started.";
      } else if (lowerMsg.includes('price') || lowerMsg.includes('cost') || lowerMsg.includes('how much')) {
        return "Our prices vary by service and duration. Rachael will provide a custom quote based on your needs! üí∞";
      } else if (lowerMsg.includes('walk') || lowerMsg.includes('walking')) {
        return "We offer daily dog walking services with flexible scheduling. Your pup will get exercise and attention! üö∂‚Äç‚ôÄÔ∏è";
      } else if (lowerMsg.includes('sit') || lowerMsg.includes('sitting') || lowerMsg.includes('care')) {
        return "Our dog sitting service provides loving care in your home or ours. Your dog will be safe and happy! üè†";
      } else if (lowerMsg.includes('groom') || lowerMsg.includes('grooming') || lowerMsg.includes('bath')) {
        return "Professional grooming services include baths, nail trims, and styling. Your dog will look and feel great! ‚ú®";
      } else if (lowerMsg.includes('emergency') || lowerMsg.includes('urgent') || lowerMsg.includes('asap')) {
        return "For urgent requests, please call Rachael directly. We'll do our best to accommodate emergency situations! üö®";
      } else if (lowerMsg.includes('hello') || lowerMsg.includes('hi') || lowerMsg.includes('hey')) {
        return "Hello! Welcome to Rachael's Dogs! How can I help you and your furry friend today? üëã";
      } else if (lowerMsg.includes('thank') || lowerMsg.includes('thanks')) {
        return "You're very welcome! I'm here to help anytime. Woof woof! üêæ";
      } else if (lowerMsg.includes('contact')) {
        return "You can reach us by phone at +1 (234) 567-890 or email at info@rachaeldogs.com. We're also located at 123 Canine Street, Dogville, USA.";
      } else {
        return botResponses[Math.floor(Math.random() * botResponses.length)];
      }
    }

    function showTypingIndicator() {
      const indicator = document.getElementById('typingIndicator');
      indicator.style.display = 'flex';
      scrollChatToBottom();
    }

    function hideTypingIndicator() {
      const indicator = document.getElementById('typingIndicator');
      indicator.style.display = 'none';
    }

    function scrollChatToBottom() {
      const chatArea = document.getElementById("chatMessages");
      chatArea.scrollTop = chatArea.scrollHeight;
    }

    // Chat history functions with error handling
    function saveChatMessage(message) {
      try {
        chatHistory.push(message);
        localStorage.setItem("chatHistory", JSON.stringify(chatHistory));
      } catch (error) {
        console.error('Failed to save chat message to localStorage:', error);
      }
    }

    function loadChatHistory() {
      try {
        const saved = localStorage.getItem("chatHistory");
        if (saved) {
          chatHistory = JSON.parse(saved);
          chatHistory.forEach(msg => {
            if (msg.from === "You") {
              addUserMessage(msg.message);
            } else {
              addBotMessage(msg.message);
            }
          });
          scrollChatToBottom();
        }
      } catch (error) {
        console.error('Failed to load chat history from localStorage:', error);
        chatHistory = [];
      }
    }

    // Helper to escape HTML for security (preventing XSS in messages)
    function escapeHtml(text) {
      const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
      };
      return text.replace(/[&<>"']/g, function(m) { return map[m]; });
    }
  </script>
</body>
</html>